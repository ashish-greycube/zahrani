{
 "add_total_row": 1, 
 "apply_user_permissions": 1, 
 "creation": "2018-03-12 07:13:45.028214", 
 "disabled": 0, 
 "docstatus": 0, 
 "doctype": "Report", 
 "idx": 0, 
 "is_standard": "Yes", 
 "letter_head": "Logo", 
 "modified": "2018-03-13 07:35:06.648927", 
 "modified_by": "Administrator", 
 "module": "Zahrani", 
 "name": "Purchase Supplierwise", 
 "owner": "Administrator", 
 "query": "select \nPI.supplier as \"Supplier:Data:100\",\nSUM(\n\tCASE WHEN PI.is_return = 0 \n\tTHEN PIT.base_net_amount\n\tELSE 0\n\tEND) AS \"PurchaseAmount:Currency:120\",\nSUM(\n\tCASE WHEN PI.is_return = 0 \n\tTHEN PIT.stock_qty\n\tELSE 0\n\tEND) AS \"PurchaseQty:Int:100\",\nSUM(\n\tCASE WHEN PI.is_return = 1\n\tTHEN PIT.base_net_amount\n\tELSE 0\n\tEND) AS \"PurchaseReturnAmount:Currency:180\",\nSUM(\n\tCASE WHEN PI.is_return = 1 \n\tTHEN PIT.stock_qty\n\tELSE 0\n\tEND) AS \"PurchaseReturnQty:Int:150\",\n0 AS \"DamageAmount:Currency:180\",\n0 AS \"DamageQty:Int:100\"\nfrom `tabStock Ledger Entry` as SL\nINNER JOIN `tabPurchase Invoice` as PI\nON SL.voucher_no = PI.name\nINNER JOIN `tabPurchase Invoice Item` as PIT\nON PIT.parent = PI.name\nWHERE PI.company = %(company)s\nAND PI.posting_date >= %(from_date)s and PI.posting_date <= %(to_date)s\nGROUP BY PI.supplier\n\nUNION ALL\n\nselect \nSE.supplier,\n0 AS PurchaseAmount,\n0 AS PurchaseQty,\n0 AS PurchaseReturnAmount,\n0 AS PurchaseReturnQty,\nSUM(\n\tCASE WHEN SE.isdamage = 1 \n\tTHEN SED.basic_amount\n\tELSE 0\n\tEND) AS DamageAmount,\nSUM(\n\tCASE WHEN SE.isdamage = 1 \n\tTHEN SED.qty\n\tELSE 0\n\tEND) AS DamageQty\nfrom `tabStock Ledger Entry` as SL\nINNER JOIN `tabStock Entry` as SE\nON SL.voucher_no = SE.name\nINNER JOIN `tabStock Entry Detail` as SED\nON SED.parent = SE.name\nWHERE SE.company = %(company)s\nAND SE.posting_date >= %(from_date)s and SE.posting_date <= %(to_date)s\nGROUP BY SE.supplier;", 
 "ref_doctype": "Stock Ledger Entry", 
 "report_name": "Purchase Supplierwise", 
 "report_type": "Query Report", 
 "roles": [
  {
   "role": "Stock User"
  }, 
  {
   "role": "Accounts Manager"
  }
 ]
}